import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { NavLink, Outlet } from 'react-router-dom';
import { clsx } from 'clsx';
import { CalendarRange, LayoutDashboard, LineChart, LogOut, Settings, ShieldCheck, } from 'lucide-react';
import { useAuth } from '../context/AuthContext';
const primaryNav = [
    { to: '/dashboard', label: 'Planner', icon: LayoutDashboard },
    { to: '/calendario', label: 'Calendario', icon: CalendarRange },
    { to: '/insights', label: 'Storico', icon: LineChart },
    { to: '/impostazioni', label: 'Impostazioni', icon: Settings },
];
const legalNav = [
    { to: '/legal/privacy', label: 'Privacy' },
    { to: '/legal/termini', label: 'Termini' },
    { to: '/legal/cookie', label: 'Cookie' },
    { to: '/legal/disclaimer', label: 'Disclaimer' },
];
export function MainLayout() {
    const { user, logout } = useAuth();
    return (_jsxs("div", { className: "min-h-screen bg-allow-background text-slate-700", children: [_jsx("a", { href: "#contenuto", className: "sr-only focus:not-sr-only focus:absolute focus:left-6 focus:top-6 focus:rounded-lg focus:bg-white focus:px-4 focus:py-2 focus:text-allow-primary", children: "Salta al contenuto" }), _jsxs("div", { className: "mx-auto flex min-h-screen w-full max-w-6xl flex-col gap-8 px-4 py-6 lg:flex-row lg:px-8 lg:py-10", children: [_jsxs("aside", { className: "flex h-fit flex-col gap-6 rounded-3xl bg-white/90 p-6 shadow-soft lg:max-w-[270px]", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "grid h-12 w-12 place-items-center rounded-2xl bg-gradient-to-br from-[#5c6ac4] via-[#8d99ff] to-[#f59eb7] text-base font-black text-white shadow-soft", children: "AD" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm font-semibold uppercase tracking-[0.32em] text-allow-primary", children: "Allowday" }), _jsx("p", { className: "text-xs text-slate-400", children: "Piccoli passi, grande chiarezza" })] })] }), _jsxs("div", { className: "rounded-2xl bg-[#eef1ff] p-4", children: [_jsxs("p", { className: "text-sm font-semibold text-allow-primary", children: ["Benvenuto", user?.fullName ? `, ${user.fullName}` : ''] }), _jsx("p", { className: "mt-1 text-xs text-slate-500", children: "Inizia inserendo i tuoi numeri nella sezione Planner. Il calendario si colorer\u00E0 da solo." })] }), _jsx("nav", { className: "space-y-2 text-sm", children: primaryNav.map((item) => (_jsx(NavItem, { to: item.to, icon: item.icon, children: item.label }, item.to))) }), _jsxs("div", { className: "rounded-2xl bg-[#fdf2f3] p-5 text-xs text-slate-500", children: [_jsxs("div", { className: "mb-2 flex items-center gap-2 text-allow-danger/80", children: [_jsx(ShieldCheck, { className: "h-4 w-4" }), "Sicurezza sempre attiva"] }), "I tuoi dati sono salvati in modo protetto. Puoi aggiornarli e cancellarli quando vuoi."] }), _jsxs("button", { type: "button", onClick: logout, className: "inline-flex items-center justify-center gap-2 rounded-2xl bg-[#eef1ff] px-4 py-2 text-sm font-semibold text-allow-primary transition hover:bg-[#e1e6ff]", children: [_jsx(LogOut, { className: "h-4 w-4" }), " Esci"] })] }), _jsxs("div", { className: "flex-1", children: [_jsx("header", { className: "sticky top-6 z-30 mb-6 rounded-3xl bg-white/90 p-4 shadow-soft", children: _jsxs("div", { className: "flex flex-wrap items-center justify-between gap-4", children: [_jsx("div", { className: "flex flex-wrap items-center gap-3 text-xs font-semibold uppercase tracking-wide text-slate-400", children: primaryNav.map((item) => (_jsx(NavLink, { to: item.to, className: ({ isActive }) => clsx('rounded-2xl px-3 py-1.5 transition hover:bg-[#eef1ff] hover:text-allow-primary', isActive && 'bg-[#5c6ac4]/10 text-allow-primary'), children: item.label }, item.to))) }), _jsx("div", { className: "flex items-center gap-3", children: _jsxs("div", { className: "text-right text-xs text-slate-400", children: [_jsx("p", { className: "font-semibold text-slate-600", children: user?.fullName ?? user?.email }), _jsx("p", { children: user?.email })] }) })] }) }), _jsx("main", { id: "contenuto", className: "space-y-8 pb-12", children: _jsx(Outlet, {}) }), _jsx("footer", { className: "mt-8 rounded-3xl bg-white/90 p-4 text-xs text-slate-400 shadow-soft", children: _jsxs("div", { className: "flex flex-wrap items-center justify-between gap-3", children: [_jsxs("p", { children: ["\u00A9 ", new Date().getFullYear(), " Allowday \u00B7 Cresci con gentilezza."] }), _jsxs("nav", { className: "flex flex-wrap items-center gap-3", children: [legalNav.map((link) => (_jsx(NavLink, { to: link.to, className: ({ isActive }) => clsx('transition hover:text-allow-primary', isActive && 'text-allow-primary font-semibold'), children: link.label }, link.to))), _jsx("a", { href: "mailto:ciao@allowday.it", className: "rounded-full bg-[#eef1ff] px-3 py-1 font-semibold text-allow-primary transition hover:bg-[#e1e6ff]", children: "Supporto" })] })] }) })] })] })] }));
}
function NavItem({ to, icon: Icon, children }) {
    return (_jsxs(NavLink, { to: to, className: ({ isActive }) => clsx('flex items-center gap-3 rounded-2xl px-4 py-3 font-semibold text-slate-500 transition hover:bg-[#eef1ff] hover:text-allow-primary', isActive && 'bg-[#5c6ac4]/10 text-allow-primary'), children: [_jsx("span", { className: "grid h-9 w-9 place-items-center rounded-2xl bg-[#eef1ff] text-allow-primary", children: _jsx(Icon, { className: "h-4 w-4" }) }), children] }));
}
